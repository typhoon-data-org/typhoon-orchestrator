
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>TYPHOON</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@7.1.2/dist/mermaid.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="typhoon" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="TYPHOON" class="md-header__button md-logo" aria-label="TYPHOON" data-md-component="logo">
      
  <img src="img/typhoon_flat_icon_white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TYPHOON
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/typhoon-data-org/typhoon-orchestrator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    typhoon-orchestrator
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="." class="md-tabs__link md-tabs__link--active">
      Overview
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="getting-started/installation/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="examples/hello-world/" class="md-tabs__link">
        Example Walkthroughs
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="usage/dag-context/" class="md-tabs__link">
        Usage
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="TYPHOON" class="md-nav__button md-logo" aria-label="TYPHOON" data-md-component="logo">
      
  <img src="img/typhoon_flat_icon_white.png" alt="logo">

    </a>
    TYPHOON
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/typhoon-data-org/typhoon-orchestrator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    typhoon-orchestrator
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-dag" class="md-nav__link">
    Example DAG
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-with-airflow" class="md-nav__link">
    Using with Airflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-completion" class="md-nav__link">
    Auto-Completion
  </a>
  
    <nav class="md-nav" aria-label="Auto-Completion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start-with-vs-code" class="md-nav__link">
    Quick start with VS Code.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-ui" class="md-nav__link">
    Component UI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-testing-shell" class="md-nav__link">
    Cli, Testing &amp; Shell
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples/hello-world/" class="md-nav__link">
        Hello World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/typhoon-cli/" class="md-nav__link">
        Typhoon Cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/creating-a-dag/" class="md-nav__link">
        Creating your DAG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/connections/" class="md-nav__link">
        Adding connections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/deployment/" class="md-nav__link">
        Deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/using-components/" class="md-nav__link">
        Using Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/using-component-ui/" class="md-nav__link">
        Component UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/creating-hooks/" class="md-nav__link">
        New Hooks (connections)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="getting-started/typhoon-shell/" class="md-nav__link">
        Typhoon Shell
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Example Walkthroughs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Example Walkthroughs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Example Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples/hello-world/" class="md-nav__link">
        Hello World
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples/mysql-to-snowflake/" class="md-nav__link">
        MySql to Snowflake
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples/pandas-examples/" class="md-nav__link">
        Pandas automation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="examples/favorite_author_extended/" class="md-nav__link">
        Favorite Author Extended
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/dag-context/" class="md-nav__link">
        Dag Context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/py-multistep/" class="md-nav__link">
        !Py & !Multistep
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/task-flow-control/" class="md-nav__link">
        Task flow control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/task-testing/" class="md-nav__link">
        Task testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/transformations/" class="md-nav__link">
        Transformations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/hooks/" class="md-nav__link">
        Hooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="usage/templates/" class="md-nav__link">
        Variables & Templates
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-dag" class="md-nav__link">
    Example DAG
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-with-airflow" class="md-nav__link">
    Using with Airflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#auto-completion" class="md-nav__link">
    Auto-Completion
  </a>
  
    <nav class="md-nav" aria-label="Auto-Completion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quick-start-with-vs-code" class="md-nav__link">
    Quick start with VS Code.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-ui" class="md-nav__link">
    Component UI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-testing-shell" class="md-nav__link">
    Cli, Testing &amp; Shell
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<div class="header_sidebyside"><img src="img/typhoon_logo_large_tagline.png" width="250px" align="left"></div>

<div class="header_sidebyside"><b>Elegant YAML DAGS for Data Pipelines</br>Deploy to Airflow or AWS Lambda.</b></div>

<h1 id="_1"></h1>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Why Typhoon</label><label for="__tabbed_1_2">Key Principles</label><label for="__tabbed_1_3">Layers</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><em>Write Airflow DAGS faster</em> <img alt="🚀" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f680.svg" title=":rocket:" /></p>
<p><strong>Write Serverless AWS Lambda  DAGS faster</strong> <img alt="🚀" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f680.svg" title=":rocket:" /> <img alt="🚀" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f680.svg" title=":rocket:" /></p>
<p>Make creating reliable data pipelines easy for the whole team <img alt="🙌" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f64c.svg" title=":raised_hands:" /></p>
<p>Simplicity and re-usability; a toolkit designed to be loved by Data Engineers <img alt="❤" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/2764.svg" title=":heart:" /></p>
<p>Deploying to your existing Airflow with zero risk and no migration work <img alt="☺" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/263a.svg" title=":relaxed:" /></p>
<p><strong>Workflow</strong>: Typhoon YAML DAG --&gt; transpile --&gt; Airflow DAG </p>
</div>
<div class="tabbed-block">
<ul>
<li><strong>Elegant</strong>:  YAML; low-code and easy to pick up.</li>
<li><strong>Data sharing</strong> - data flows between tasks making it intuitive and easy to build tasks.</li>
<li><strong>Composability</strong> - Functions combine like Lego. Effortless to extend for more sources and connections.</li>
<li><strong>Components</strong> - reduce complex tasks (e.g. CSV→S3→Snowflake) to 1 re-usable task.</li>
<li><strong>UI</strong>: Component UI for sharing DAG configuration with your DWH, Analyst or Data Sci. teams.</li>
<li><strong>Rich Cli</strong>: Inspired by other great command line interfaces and instantly familiar. Intelligent bash/zsh completion.</li>
<li><strong>Testable Tasks</strong> - automate DAG task tests.</li>
<li><strong>Testable Python</strong> - test functions or full DAGs with PyTest.</li>
<li><strong>Flexible deployment</strong>: deploy to Airflow - large reduction in effort, without breaking existing production.</li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li><strong>Pristine</strong>: Pre-built (OSS) components and UI that can be shared to your team    </li>
<li><strong>Core</strong>: Python (OSS) core <ul>
<li>Extensible and hackable. </li>
<li>Components allow you to share extensions widely in the Pristine layer</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title"><a href="getting-started/installation/">Installing Typhoon - quick start</a></p>
</div>
<div class="admonition note">
<p class="admonition-title"><a href="examples/hello-world/">Hello World - 5 min walkthrough</a></p>
</div>
<h2 id="example-dag">Example DAG</h2>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Typhoon DAG (YAML)</label><label for="__tabbed_2_2">Equivalent Airflow DAG (python)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">favorite_authors</span>
  <span class="nt">schedule_interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rate(1 day)</span>

  <span class="nt">tasks</span><span class="p">:</span>
    <span class="nt">choose_favorites</span><span class="p">:</span>
      <span class="nt">function</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">typhoon.flow_control.branch</span>
      <span class="nt">args</span><span class="p">:</span>
        <span class="nt">branches</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">J. K. Rowling</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">George R. R. Martin</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">James Clavell</span>

    <span class="nt">get_author</span><span class="p">:</span>
      <span class="nt">input</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">choose_favorites</span>
      <span class="nt">function</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">functions.open_library_api.get_author</span>
      <span class="nt">args</span><span class="p">:</span>
        <span class="nt">author</span><span class="p">:</span> <span class="kt">!Py</span> <span class="l l-Scalar l-Scalar-Plain">$BATCH</span>

    <span class="nt">write_author_json</span><span class="p">:</span>
      <span class="nt">input</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">get_author</span>
      <span class="nt">function</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">typhoon.filesystem.write_data</span>    
      <span class="nt">args</span><span class="p">:</span>
        <span class="nt">hook</span><span class="p">:</span> <span class="kt">!Hook</span> <span class="l l-Scalar l-Scalar-Plain">data_lake</span>
        <span class="nt">data</span><span class="p">:</span>  <span class="kt">!MultiStep</span>
          <span class="p p-Indicator">-</span> <span class="kt">!Py</span> <span class="l l-Scalar l-Scalar-Plain">$BATCH[&#39;docs&#39;]</span>
          <span class="p p-Indicator">-</span> <span class="kt">!Py</span> <span class="l l-Scalar l-Scalar-Plain">typhoon.data.json_array_to_json_records($1)</span>
        <span class="nt">path</span><span class="p">:</span> <span class="kt">!MultiStep</span> 
          <span class="p p-Indicator">-</span> <span class="kt">!Py</span> <span class="l l-Scalar l-Scalar-Plain">$BATCH[&#39;docs&#39;][0][&#39;key&#39;]</span>
          <span class="p p-Indicator">-</span> <span class="kt">!Py</span> <span class="l l-Scalar l-Scalar-Plain">f&#39;/authors/{$1}.json&#39;</span>
        <span class="nt">create_intermediate_dirs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
</code></pre></div>
</td></tr></table>
</div>
<div class="tabbed-block">
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">import</span> <span class="nn">typhoon.contrib.functions</span> <span class="k">as</span> <span class="nn">typhoon_functions</span>   <span class="c1"># for a fair comparison</span>
<span class="kn">import</span> <span class="nn">typhoon.contrib.transformations</span> <span class="k">as</span> <span class="nn">typhoon_transformations</span>
<span class="kn">from</span> <span class="nn">airflow</span> <span class="kn">import</span> <span class="n">DAG</span>
<span class="kn">from</span> <span class="nn">airflow.hooks.base_hook</span> <span class="kn">import</span> <span class="n">BaseHook</span>
<span class="kn">from</span> <span class="nn">airflow.operators.python_operator</span> <span class="kn">import</span> <span class="n">PythonOperator</span>

<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="n">open_library_api</span>
<span class="kn">from</span> <span class="nn">out.new_people.typhoon.contrib.hooks.filesystem_hooks</span> <span class="kn">import</span> <span class="n">LocalStorageHook</span>


<span class="k">def</span> <span class="nf">get_author</span><span class="p">(</span><span class="n">author</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">context</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">open_library_api</span><span class="o">.</span><span class="n">get_author</span><span class="p">(</span>
        <span class="n">requested_author</span><span class="o">=</span><span class="n">author</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">context</span><span class="p">[</span><span class="s1">&#39;ti&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">xcom_push</span><span class="p">(</span><span class="s1">&#39;result&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">write_author_json</span><span class="p">(</span><span class="n">source_task_id</span><span class="p">,</span> <span class="o">**</span><span class="n">context</span><span class="p">):</span>
    <span class="n">conn_params</span> <span class="o">=</span> <span class="n">BaseHook</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="s1">&#39;data_lake&#39;</span><span class="p">)</span>
    <span class="n">hook</span> <span class="o">=</span> <span class="n">LocalStorageHook</span><span class="p">(</span><span class="n">conn_params</span><span class="p">)</span>       <span class="c1"># Note how we&#39;re hardcoding the class</span>
    <span class="n">create_intermediate_dirs</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="n">batches</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s1">&#39;ti&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">xcom_pull</span><span class="p">(</span><span class="n">task_ids</span><span class="o">=</span><span class="n">source_task_id</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;result&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">batch</span> <span class="ow">in</span> <span class="n">batches</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">typhoon_transformations</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">json_array_to_json_records</span><span class="p">(</span><span class="n">batch</span><span class="p">[</span><span class="s1">&#39;docs&#39;</span><span class="p">])</span>
        <span class="n">_key</span> <span class="o">=</span> <span class="n">batch</span><span class="p">[</span><span class="s1">&#39;docs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;key&#39;</span><span class="p">]</span>
        <span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;/authors/</span><span class="si">{</span><span class="n">_key</span><span class="si">}</span><span class="s1">.json&#39;</span>
        <span class="n">typhoon_functions</span><span class="o">.</span><span class="n">filesystem</span><span class="o">.</span><span class="n">write_data</span><span class="p">(</span>
            <span class="n">hook</span><span class="o">=</span><span class="n">hook</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
            <span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span>
            <span class="n">create_intermediate_dirs</span><span class="o">=</span><span class="n">create_intermediate_dirs</span><span class="p">,</span>
        <span class="p">)</span>

<span class="k">with</span> <span class="n">DAG</span><span class="p">(</span>
    <span class="n">dag_id</span><span class="o">=</span><span class="s1">&#39;favorite_authors&#39;</span><span class="p">,</span>
    <span class="n">default_args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;owner&#39;</span><span class="p">:</span> <span class="s1">&#39;typhoon&#39;</span><span class="p">},</span>
    <span class="n">schedule_interval</span><span class="o">=</span><span class="s1">&#39;*/1 * * * *&#39;</span><span class="p">,</span>
    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="p">)</span> <span class="k">as</span> <span class="n">dag</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;J. K. Rowling&#39;</span><span class="p">,</span> <span class="s1">&#39;George R. R. Martin&#39;</span><span class="p">,</span> <span class="s1">&#39;James Clavell&#39;</span><span class="p">]:</span>
        <span class="n">get_author_task_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;get_author_</span><span class="si">{</span><span class="n">author</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">get_author_task</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span>
            <span class="n">task_id</span><span class="o">=</span><span class="n">get_author_task_id</span><span class="p">,</span>
            <span class="n">python_callable</span><span class="o">=</span><span class="n">get_author</span><span class="p">,</span>
            <span class="n">op_kwargs</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="n">author</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">provide_context</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">dag</span> <span class="o">&gt;&gt;</span> <span class="n">get_author_task</span>

        <span class="n">write_author_json</span> <span class="o">=</span> <span class="n">PythonOperator</span><span class="p">(</span>
            <span class="n">task_id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;write_author_json_</span><span class="si">{</span><span class="n">author</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="n">python_callable</span><span class="o">=</span><span class="n">write_author_json</span><span class="p">,</span>
            <span class="n">op_kwargs</span><span class="o">=</span><span class="p">{</span>
                <span class="s1">&#39;source_task_id&#39;</span><span class="p">:</span> <span class="n">get_author_task_id</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">provide_context</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>
        <span class="n">get_author_task</span> <span class="o">&gt;&gt;</span> <span class="n">write_author_json</span>
</code></pre></div>
</td></tr></table>
</div>
</div>
</div>
<figure>
<p><img alt="Favorite Authors" src="img/open_library_example_dag.png" width="400" />
   </p>
<figcaption>Getting the works of my favorite authors from Open Library API</figcaption>
</figure>
<h2 id="using-with-airflow">Using with Airflow</h2>
<p>First, read our <a href="getting-started/installation/">installation</a> docs to get going with airflow + docker (10 mins).</p>
<p>Building the above DAG using </p>
<div class="highlight"><pre><span></span><code>docker-compose -f docker-compose-af.yml run --rm typhoon-af typhoon dag build --all
docker restart typhoon-af
</code></pre></div>
<figure>
<p><img alt="Favorite Authors" src="img/airflow_favorite_author_basic_dag.PNG" width="800" />
   </p>
<figcaption>Favorite Authors DAG - as displayed in airflow UI</figcaption>
</figure>
<p>We can extend the above task to give an example with more complexity. The tutorial for this has some more advanced tips. The airflow compiled DAG handles complex DAG structures very nicely:</p>
<figure>
<p><img alt="Favorite Authors" src="img/airflow_favorite_author_extended_dag_graph_1.PNG" width="800" />
   </p>
<figcaption>Favorite Authors Extended - a complex DAG example</figcaption>
</figure>
<h2 id="auto-completion">Auto-Completion</h2>
<figure>
<p><img alt="Code Completion" src="https://raw.githubusercontent.com/typhoon-data-org/typhoon-orchestrator/feature/docs_gitpages/docs/img/auto-complete.gif" width="800" />
   </p>
<figcaption>Composing DAGs is really fast in VS Code with code completion.</figcaption>
</figure>
<h3 id="quick-start-with-vs-code">Quick start with VS Code.</h3>
<p>If you want the dag schema and the component schema to be generated after every change to your code (functions, transformations and connections) you need to:</p>
<ul>
<li>
<p>install the extension <code>Run on Save</code> by emeraldwalk and edit the path to your typhoon executable in <code>generate_schemas.sh</code>. You can find out the path by running the following command in the terminal: <code>which typhoon</code>.</p>
</li>
<li>
<p>install the extension <code>YAML</code> by redhat.</p>
</li>
</ul>
<h2 id="component-ui">Component UI</h2>
<p>The Component UI is a dynamic UI (Streamlit app) based on a Component DAG. This means you can make a component and your team can then generate specific DAGs from this template. </p>
<p>e.g. DB -&gt; S3 -&gt; Snowflake.  They can then use this for any relational DB to export tables to Snowflake. </p>
<figure>
<p><img alt="Component UI" src="img/component_ui.gif" width="800" />
   </p>
<figcaption>Give your team autonomy by sharing templated flows they can configure.</figcaption>
</figure>
<h2 id="cli-testing-shell">Cli, Testing &amp; Shell</h2>
<p>The rich CLI should be instantly familiar to most users. Help is provided as you navigate with <code>--help</code> as well as auto-complete with most terminals. </p>
<p><strong>Built in tests</strong> allow another level of robustness and automation and are easy and quick to make.   </p>
<figure>
<p><img alt="Shell" src="https://raw.githubusercontent.com/typhoon-data-org/typhoon-orchestrator/feature/docs_gitpages/docs/img/typhoon_cli_testing.gif" width="800" />
   </p>
<figcaption>YAML DAG Tests</figcaption>
</figure>
<p>The Interactive Shell is really useful for running tasks and understanding the data structure at each point. Here is a short demo of running the get_author task and seeing the data it returns which can then be explored.</p>
<figure>
<p><img alt="Shell" src="https://raw.githubusercontent.com/typhoon-data-org/typhoon-orchestrator/feature/docs_gitpages/docs/img/shell_example.gif" width="800" />
   </p>
<figcaption>Speed up development by exploring tasks interactively.</figcaption>
</figure>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        
        <a href="getting-started/installation/" class="md-footer__link md-footer__link--next" aria-label="Next: Installation" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Installation
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "search": "assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.c44cc438.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      
    
  </body>
</html>